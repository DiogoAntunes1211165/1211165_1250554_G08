# Quality Attribute Scenario: ISBN Lookup via External APIs

| Element   | Statement regarding ISBN lookup behavior.                                                                                                                                                                                                                                                      |
|-----------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Stimulus  | Pedido de criação de livro sem ISBN fornecido                                                                                                                                                                                                                                                  |
| Stimulus Source | Código que cria livros detecta ISBN ausente e chama o método para tentar obter um ISBN por título                                                                                                                                                                                              | 
| Environment | Runtime do servidor de aplicação; depende de conectividade HTTP às APIs externas; serviços ativáveis por perfil Spring (`openlibrary`, `google`)                                                                                                                                               | 
| Artifact  | `BookServiceImpl`, `IsbnLookupService` (interface), implementações: `OpenLibraryIsbnLookupService`, `GoogleBooksIsbnLookupService`                                                                                                                                                             | 
| Response  | O serviço chama, por ordem, os beans `IsbnLookupService` até receber um ISBN.                                                                                                                                                                                                                  | 
| Response Measure | - Robustez: falhas nos providers resultam numa busca no próximo provider.<br/>- Disponibilidade: depende dos perfis/beans ativos; se nenhum provider estiver disponível, a busca falha.<br/>- Ordem/Fallback: definida pela ordem dos beans — percorre até encontrar um resultado. |